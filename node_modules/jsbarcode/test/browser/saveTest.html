<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="../../dist/JsBarcode.all.js"></script>
    <script>
    window.onload = function(){
      document.querySelector('#saveBarcode').onclick = function(){
        //get svg element.
        var svg = document.getElementById("barcode");

        //get svg source.
        var serializer = new XMLSerializer();
        var source = serializer.serializeToString(svg);

        //add name spaces.
        if(!source.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)){
            source = source.replace(/^<svg/, '<svg xmlns="http://www.w3.org/2000/svg"');
        }
        if(!source.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)){
            source = source.replace(/^<svg/, '<svg xmlns:xlink="http://www.w3.org/1999/xlink"');
        }

        //add xml declaration
        source = '<?xml version="1.0" standalone="no"?>\r\n' + source;

        //convert svg source to URI data scheme.
        var url = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(source);

        //set url value to a element's href attribute.
        document.querySelector('#test').href = url;
        //you can download svg file by right click menu.
      }
      JsBarcode("#barcode", "JsBarcode", {
        width: 3,
        fontSize: 46,
        textMargin: 0
      });
    }
    </script>
  </head>
  <body>
    <svg id="barcode"></svg>
    <span id="saveBarcode">Save</span>
    <a href="#" id="test">Save 2</a>
  </body>
</html>
